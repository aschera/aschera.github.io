<!DOCTYPE html>
<html>
	<head>
		<title>AJAX</title>
		<style>
			div {border-style: solid};
		</style>
	</head>
	<body>
		<div id="container">
			<header>
				<h1 id="text">AJAX</h1>
				<hr>
			</header>
			
			<a  id ="zar"  href="#">Where is the store located?</a>
		</div>
		<br>
		<div id="svar"></div>
		<script>
			window.addEventListener('load', function() {
    var zar= document.getElementById("zar");
var svar = document.getElementById("svar");
zar.addEventListener("click", function(){
    
    // jag testat med denna api: http://food2fork.com/about/api
    // API Key: 990f87c99cc60e687a4cb68ba77d179d 
    
    //exempel url: http://food2fork.com/api/search?key={API_KEY}&q=shredded%20chicken
    
    // Skapa URL med querystring
    var url = 'https://food2fork.com/api/search?';
	
    //l√§gg till login
    url += 'key=' + '990f87c99cc60e687a4cb68ba77d179d';


	
		let ajax = new XMLHttpRequest();
				ajax.open('get', url);
				ajax.onreadystatechange = function() {
					if( ajax.status == 200 && ajax.readyState == 4 ) {
                        
						// AJAX success
						let json = JSON.parse(ajax.responseText);
						svar.innerHTML = ajax.responseText;
						console.log(`${ajax.responseText}`);

					}
					else if( ajax.status != 200 ) {
						svar.innerHTML = 'Error';
					}
				};
				ajax.send();

/* function addHtml(data){
	var htmlText= "";
	
	for (i = 0; i < data.length; i++){
		htmlText += data[i].svar;
	}
	info.insertAdjacentHTML('beforeend',htmlText);
}; */
			})
    </script>
	</body>
</html>
