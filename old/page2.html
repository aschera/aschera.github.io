
<!DOCTYPE html>
<html>

<head>
	<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
	
	<title>page2</title>
		
	<!--[if IE]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script src="foursquare.js"></script>
    <!--<script src="country.js"></script> -->
  
    
<style>
    
    #values {border-style: solid}
	#1 {border-style: solid}
	#2 {border-style: solid}
    #3 {border-style: solid}
    #4 {border-style: solid}
    #5 {border-style: solid}
  
</style>
    
    <script> // URL REST countries API
    // We need this to find the capital city of the country we find.
    // and also the latitude and longtitude for the google map
    // it needs to be here, so it loads before the other scripts.
        
				let url2 = 'https://restcountries.eu/rest/v1/name/';
                
                // where?
                url2 += result_country.name;
                
				// AJAX request REST countries
				let ajax2 = new XMLHttpRequest();
				ajax2.open('get', url2);
				ajax2.onreadystatechange = function() {
					if( ajax2.status == 200 && ajax2.readyState == 4 ) {
                        
                        let json2 = JSON.parse(ajax2.responseText);
                            
                        // City
                        result_country.city = json2[0].capital;
                        
                        // lat/lng
                        result_country.lat = json2[0].latlng[0];
                        result_country.lng = json2[0].latlng[1];
                        
                        console.log(json2[0].latlng[0]);

					}
					else if( ajax2.status != 200 ) {
						
					}
				};
				ajax2.send();  
    </script>

<body>

  

	<div id="page-wrap">

        <header>
		 <h2>Foursquare -- Google</h2>
		</header>
		
		<section id="main-content">

     <button id="button" onclick="initMap()">Click me</button>
            <div id="1">
                status Foursquare
            </div>
            <div id="2">
                result Foursquare
                <ul id="list"></ul>
            </div>
                <div id="5" style="max-width:50%;height:400px;"> result Google </div>
            
            <div id="3">
                json Foursquare
            </div>

            
		</section>
	
	</div>
    
    <!-- Google needs id!
    AIzaSyDqlDUN18gi5vXn7lqtHJXUCwnqmKkjNXk -->
    
<script> // Google API for the map. 
// Needs to be here too, so it lopads properly.
    
      function initMap() {
        // Create a map object and specify the DOM element for display.
        var map = new google.maps.Map(document.getElementById("5"), {
          center: {lat: result_country.lat, lng: result_country.lng},
          scrollwheel: false,
          zoom: 8
        });
      }

</script> Google 2nd API script.
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqlDUN18gi5vXn7lqtHJXUCwnqmKkjNXk&callback=initMap"
    async defer></script>

</body>

</html>
