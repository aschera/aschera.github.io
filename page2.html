<!DOCTYPE html>
<html>

<head>
	<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
	
	<title>page2</title>
		
	<!--[if IE]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
<style>
    
    div {border-style: solid}
    
    #1 {}
    
    #2 {}
    
    #3 {}
    
    
    
</style>
    
<script>
    
    //foursquare
    //client id:RHPTHZQRVD1O3M0AX3SREE4QJWLPPAEIFJAOGZHTTWT12A4W
    // client secret: U4SDRN4NDPX3EZSXSIK44ZZCWIT01FGS54PE3EGF2VSYD53X
    
    //link: https://api.foursquare.com/v2/venues/search?v=20161016&ll=41.878114%2C%20-87.629798&query=coffee&intent=checkin&client_id=RHPTHZQRVD1O3M0AX3SREE4QJWLPPAEIFJAOGZHTTWT12A4W&client_secret=U4SDRN4NDPX3EZSXSIK44ZZCWIT01FGS54PE3EGF2VSYD53X
    
    
 
    var lat = 41.878114;
    var lng = -87.629798;
    
		window.addEventListener('load', function() {
			let button = document.getElementById('button');
			button.addEventListener('click', function() {
				// DOM-element som vi kommer att beh√∂va
				let svar = document.getElementById('1');
				
				
				// URL 
				let url = 'link: https://api.foursquare.com/v2/venues/search?';
                
                
                https://api.foursquare.com/v2/venues/search?v=20161016&ll=41.878114%2C%20-87.629798&query=coffee&intent=checkin&client_id=RHPTHZQRVD1O3M0AX3SREE4QJWLPPAEIFJAOGZHTTWT12A4W&client_secret=U4SDRN4NDPX3EZSXSIK44ZZCWIT01FGS54PE3EGF2VSYD53X
                
                //date
                url += 'v=' + '20170216' + '&';
                
                //where
				url += 'll=' + lat + ',' + lng + '&';

                //radius
                let radius = 200;
                url += 'radius=' + radius + '&';
                
                //what
                let categoryId = 'coffee' + '&';
				url += 'query=' + categoryId;
                
                //identification
                url += 'client_id=RHPTHZQRVD1O3M0AX3SREE4QJWLPPAEIFJAOGZHTTWT12A4W&client_secret=U4SDRN4NDPX3EZSXSIK44ZZCWIT01FGS54PE3EGF2VSYD53X';
                
				
				
				// AJAX request
				let ajax = new XMLHttpRequest();
				ajax.open('get', url);
				ajax.onreadystatechange = function() {
					if( ajax.status == 200 && ajax.readyState == 4 ) {
                        
						// AJAX success
						let json = JSON.parse(ajax.responseText);
						
                        svar.innerHTML = 'good';
						
					}
					else if( ajax.status != 200 ) {
						svar.innerHTML = 'Error';
					}
				};
				ajax.send();
			});
		});
	</script>

<body>

  

	<div id="page-wrap">

        <header>
		  Header
		</header>
		
		<section id="main-content">
     <button id="button">Click me</button>
            <div id="1">
                1
            </div>
            
            <div id="2">
                2
            </div>
            
            <div id="3">
                3
            </div>
            
		</section>
		
	</div>
	
	<footer>
	  
	</footer>

	

</body>

</html>
