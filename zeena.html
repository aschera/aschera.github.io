<!DOCTYPE html>
<html>
	<head>
		<title>AJAX</title>
		<style>
			div {border-style: solid};
		</style>
	</head>
	<body>
		<div id="container">
			<header>
				<h1 id="text">AJAX</h1>
				<hr>
			</header>
			
			<a  id ="zar"  href="#">Where is the store located?</a>
		</div>
		<br>
		<div id="svar"></div>
		<script>
			window.addEventListener('load', function() {
    var zar= document.getElementById("zar");
var svar = document.getElementById("svar");
zar.addEventListener("click", function(){
    
    // jag testat med wikipedia
    // https://www.mediawiki.org/wiki/API:Main_page
    
    //exempel url: https://en.wikipedia.org/w/api.php?action=query&titles=Main%20Page&prop=revisions&rvprop=content&format=json
    
    // Skapa URL med querystring
    var url = 'https://www.mediawiki.org/w/api.php ';
	
    


	
		let ajax = new XMLHttpRequest();
				ajax.open('get', url);
				ajax.onreadystatechange = function() {
					if( ajax.status == 200 && ajax.readyState == 4 ) {
                        
						// AJAX success
						let json = JSON.parse(ajax.responseText);
						svar.innerHTML = ajax.responseText;
						console.log(`${ajax.responseText}`);

					}
					else if( ajax.status != 200 ) {
						svar.innerHTML = 'Error';
					}
				};
				ajax.send();
});
		});
		

/* function addHtml(data){
	var htmlText= "";
	
	for (i = 0; i < data.length; i++){
		htmlText += data[i].svar;
	}
	info.insertAdjacentHTML('beforeend',htmlText);
}; */
			
    </script>
	</body>
</html>
